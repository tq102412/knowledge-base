# 观察者模式

## 定义
- **观察者模式**定义了对象之间的一对多依赖，这样依赖，当一个对象改变状态时，它的多有依赖者都会受到通知并自动更新。

## 例子1

- 背景：有两个软件工程师（`小明`和`小红`），遇见了一个猎头
- 小明：我是小明，我正在找一个`javasctipt`的工作，我已经有5年的工作经验了
- 猎头：ok！宝贝，我把你和其他人都加入了我的前端工作职位的清单中了，你不要给我打电话，有消息我会通知你的
- 小红：你好我在找一个前端开发的工作，我对`javascript`很感兴趣，但是我没有什么工作经验，我以前是做`PHP`的
- 猎头：我把你加入我的清单中了，你会和其他人一样收到我的通知
- 过了几天
- 嗨！观察者，“MR科技”需要一个前端开发人员，待遇从优，赶快去面试吧，别忘了把介绍费打我账户上。
- 小明收到消息后：谢谢，我马上把我的简历发过去。
- 小红收到消息后：这个家伙是个混蛋，谁需要他呀，我要自己找工作。
- 小红把想法告诉了猎头：你可以把我从你的清单中删了，我要自己找工作了。
- 猎头：好吧！我立即把你删除了！！
- 以后有对应消息的时候小红就没有办法收到消息了...

## 例子2

- 小明：我建立了一个广播类，他能够追踪所有倾听者对象，而且任何时候只要有了新资料进来，我就会通知各个倾听者。最棒的是，倾听者可以随时加入此广播系统，甚至可以随时退出。这样的设计方式真的是相当的动态和送耦合。
- 大家：小明，你只要说你使用了“观察者模式”我们就懂了。你说了那么大一堆废话。

## 应用到实际

- “MR气象站”自己有三个获取气象的物理装置“湿度感应装置”，“温度感应装置”，“气压感应装置”。现在“MR气象站”发布了一个需求，我们气象站想要开发一个东西他可以实时的从我们的物理装置中获取气象信息，并且发布到三个布告栏上
- “MR气象站”很友好的提供了他们的基础类`WeatherData`
```
public class WeatherData {

    // 获取温度
    public int getTemperature(){
	return 25;
    }

    // 获取湿度
    public int getHumidity(){
	return 20;
    }

    // 获取气压
    public int getPressure(){
	return 30;
    }

    // 一旦气象测量更新，此方法会被调用
    public void measurementsChanged(){
        // 你的代码加在这里
    }
    // 其他的方法

}
```

